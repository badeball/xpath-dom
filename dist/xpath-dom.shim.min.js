"undefined"==typeof Symbol&&(window.Symbol=function(){},window.Symbol.iterator="@@iterator"),function(){"use strict";var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function _(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a}var i=new RegExp(["\\$?(?:(?![0-9-])[\\w-]+:)?(?![0-9-])[\\w-]+","\\d+\\.\\d+","\\.\\d+","\\d+","\\/\\/","/","\\.\\.","\\.","\\s+","::",",","@","-","=","!=","<=","<",">=",">","\\|","\\+","\\*","\\(","\\)","\\[","\\]",'"[^"]*"',"'[^']*'"].join("|"),"g"),t=function(){function e(e){var t=e.match(i);if(null===t)throw new Error("Invalid character at position 0");if(t.join("")!==e){for(var n=0,r=0;r<t.length&&e.indexOf(t[r])===n;r++)n+=t[r].length;throw new Error("Invalid character at position "+n)}this.tokens=t.map(function(e){return{value:e,position:0}}),this.tokens.reduce(function(e,t){return t.position=e.position+e.value.length,t}),this.tokens=this.tokens.filter(function(e){return!/^\s+$/.test(e.value)}),this.index=0}return e.prototype.length=function(){return this.tokens.length},e.prototype.next=function(){if(this.index===this.tokens.length)return null;var e=this.tokens[this.index++];return e&&e.value},e.prototype.back=function(){0<this.index&&this.index--},e.prototype.peak=function(e){var t=this.tokens[this.index+(e||0)];return t&&t.value},e.prototype.empty=function(){return this.tokens.length<=this.index},e.prototype.position=function(){if(this.index!==this.tokens.length)return this.tokens[this.index].position;var e=this.tokens[this.index-1];return e.position+e.value.length},e}(),T="absolute-location-path",S="additive",k="and",O="divisional",P="equality",R="filter",D="function-call",I="greater-than",B="greater-than-or-equal",Y="inequality",A="less-than",U="less-than-or-equal",j="literal",V="modulus",C="multiplicative",L="negation",M="number",W="or",$="path",q="relative-location-path",F="subtractive",H="union",m="node-name-test",N="node-type-test",x="processing-instruction-test",E="ancestor",b="ancestor-or-self",G="attribute",z="child",X="descendant",J="descendant-or-self",K="following",Q="following-sibling",Z="namespace",ee="parent",te="preceding",ne="preceding-sibling",re="self",oe="comment",ie="node",ae="processing-instruction",se="text";function u(e,t){t.next();var n=e.parse(t);if("]"!==t.peak())throw new Error("Invalid token at position "+t.position()+", expected closing bracket");return t.next(),n}function l(e){return e==oe||e==ie||e==ae||e==se}var f="boolean",c="ceiling",h="concat",p="contains",v="count",d="false",g="floor",w="id",y="last",ue="local-name",le="name",fe="normalize-space",ce="not",he="position",pe="round",ve="starts-with",de="string-length",ge="string",we="substring-after",ye="substring-before",me="substring",Ne="sum",xe="translate",Ee="true";function a(e,t){var n=t.peak();if(!function o(e){return e==f||e==c||e==h||e==p||e==v||e==d||e==g||e==w||e==y||e==ue||e==le||e==fe||e==ce||e==M||e==he||e==pe||e==ve||e==de||e==ge||e==we||e==ye||e==me||e==Ne||e==xe||e==Ee}(n))throw new Error("Invalid function at position "+t.position());t.next();var r={type:D,name:n,args:[]};if(t.next(),")"===t.peak())t.next();else{for(;")"!==t.peak();)r.args.push(e.parse(t)),","===t.peak()&&t.next();t.next()}return r}function be(e,t){var n=function i(e,t){var n=t.peak(),r=n&&n[0];if("("===r){t.next();var o=e.parse(t);if(")"!==t.peak())throw new Error("Invalid token at position "+t.position()+", expected closing parenthesis");return t.next(),o}if('"'===r||"'"===r)return t.next(),{type:j,string:n.slice(1,-1)};if("$"===r)throw Error("Variable reference are not implemented");if(/^\d+$/.test(n)||/^(\d+)?\.\d+$/.test(n))return t.next(),{type:M,number:parseFloat(n)};if("("===t.peak(1)&&!l(t.peak()))return a(e,t);throw new Error("Unexpected token at position "+t.position())}(e,t);if("["!==t.peak())return n;for(var r={type:R,primary:n,predicates:[]};"["===t.peak();)r.predicates.push(u(e,t));return r}function _e(e){return function r(e){var t=e.peak(),n=t&&t[0];return"("===n||'"'===n||"'"===n||"$"===n||/^\d+$/.test(t)||/^(\d+)?\.\d+$/.test(t)||"("===e.peak(1)&&!l(e.peak())}(e)}function Te(e,t){if(".."===t.peak())return t.next(),{axis:ee,test:{type:N,name:ie},predicates:[]};if("."===t.peak())return t.next(),{axis:re,test:{type:N,name:ie},predicates:[]};var n;if("::"===t.peak(1)){var r=t.peak();if(!function i(e){return e==E||e==b||e==G||e==z||e==X||e==J||e==K||e==Q||e==Z||e==ee||e==te||e==ne||e==re}(r))throw new Error("Invalid axis specifier at position "+t.position());n=r,t.next(),t.next()}else n="@"===t.peak()?(t.next(),G):z;for(var o={axis:n,test:function a(e,t){if("*"===t.peak())return t.next(),{type:m,name:"*"};if("("!==t.peak(1))return{type:m,name:t.next()};if(l(t.peak())){var n,r=t.next();if(t.next(),r===ae){var o=t.peak(),i=o&&o[0];n={type:x,name:'"'===i||"'"===i?t.next().slice(1,-1):undefined}}else n={type:N,name:r};if(")"!==t.peak())throw new Error("Invalid token at position "+t.position()+", expected closing parenthesis");return t.next(),n}throw new Error("Invalid node type at position "+t.position())}(0,t),predicates:[]};"["===t.peak();)o.predicates.push(u(e,t));return o}function Se(e,t){var n=t.peak();return"/"===(n&&n[0])?function o(e,t){for(var n,r={type:T,steps:[]};!t.empty()&&"/"===t.peak()[0];)"/"===t.next()?"string"!=typeof(n=t.peak())||"."!==n&&".."!==n&&"@"!==n&&"*"!==n&&!/^\w/.test(n)||r.steps.push(Te(e,t)):(r.steps.push({axis:J,test:{type:N,name:ie},predicates:[]}),r.steps.push(Te(e,t)));return r}(e,t):function r(e,t){for(var n={type:q,steps:[Te(e,t)]};!t.empty()&&"/"===t.peak()[0];)"//"===t.next()&&n.steps.push({axis:J,test:{type:N,name:ie},predicates:[]}),n.steps.push(Te(e,t));return n}(e,t)}function ke(e,t){var n=function o(e,t){if(_e(t)){var n=be(e,t);if(t.empty()||"/"!==t.peak()[0])return n;for(var r={type:$,filter:n,steps:[]};!t.empty()&&"/"===t.peak()[0];)"//"===t.next()&&r.steps.push({axis:J,test:{type:N,name:ie},predicates:[]}),r.steps.push(Te(e,t));return r}return Se(e,t)}(e,t);if("|"!==t.peak())return n;t.next();var r=ke(e,t);return{type:H,lhs:n,rhs:r}}function Oe(e,t){var n=function a(e,t){return"-"===t.peak()?(t.next(),{type:L,lhs:a(e,t)}):ke(e,t)}(e,t),r={"*":C,div:O,mod:V};if(r.hasOwnProperty(t.peak())){var o=t.next(),i=Oe(e,t);return{type:r[o],lhs:n,rhs:i}}return n}function Pe(e,t){var n=function a(e,t){var n=Oe(e,t),r={"+":S,"-":F};if(r.hasOwnProperty(t.peak())){var o=t.next(),i=a(e,t);return{type:r[o],lhs:n,rhs:i}}return n}(e,t),r={"<":A,">":I,"<=":U,">=":B};if(r.hasOwnProperty(t.peak())){var o=t.next(),i=Pe(e,t);return{type:r[o],lhs:n,rhs:i}}return n}function Re(e,t){var n=function a(e,t){var n=Pe(e,t),r={"=":P,"!=":Y};if(r.hasOwnProperty(t.peak())){var o=t.next(),i=a(e,t);return{type:r[o],lhs:n,rhs:i}}return n}(e,t);if("and"!==t.peak())return n;t.next();var r=Re(e,t);return{type:k,lhs:n,rhs:r}}function n(e){return function o(e,t){var n=Re(e,t);if("or"!==t.peak())return n;t.next();var r=o(e,t);return{type:W,lhs:n,rhs:r}}({parse:n},e)}var r=function(){function e(e){this.lexer=new t(e)}return e.prototype.parse=function(){var e=n(this.lexer);if(this.lexer.empty())return e;throw new Error("Unexpected token at position "+this.lexer.position())},e}(),De=function(){function e(e,t,n){this.node=e,this.position=t,this.last=n}return e.prototype.getNode=function(){return this.node},e.prototype.getPosition=function(){return this.position},e.prototype.getLast=function(){return this.last},e.prototype.toString=function(){return"Context<"+this.node+">"},e}(),Ie=function(){return function t(e){this.node=e}}(),Be=function(){return function n(e,t){this.head=e,this.tail=t}}(),Ye=function(){function e(){}return e.prototype[Symbol.iterator]=function(){return this},e.prototype.next=function(){return{done:!0,value:null}},e.prototype.remove=function(){},e}(),Ae=function(){function e(e,t){void 0===t&&(t=!1),this.list=e,this.reversed=t,this.current=t?e.tail():e.head(),this.lastReturned=null,this.i=0}return e.prototype[Symbol.iterator]=function(){return this},e.prototype.next=function(){if(this.i++,1e4<this.i)throw new Error("An error has probably ocurred!");return this.current?(this.lastReturned=this.current,this.reversed?this.current=this.current.previous:this.current=this.current.next,{done:!1,value:this.lastReturned.node}):{done:!0,value:null}},e.prototype.remove=function(){if(!this.lastReturned)throw new Error("Iterator.remove() was called before iterating");if(!this.list.bounds_)throw new Error("Iterator.remove() was somehow invoked on an empty list");var e=this.lastReturned.next,t=this.lastReturned.previous;e&&t?(e.previous=t).next=e:e?(e.previous=t,this.list.bounds_.head=e):t?(t.next=e,this.list.bounds_.tail=t):this.list.bounds_=null,this.lastReturned=null,this.list.length_--},e}(),Ue=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return function r(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(i,e),i.prototype.asString=function(){var e=this.first();return e?e.asString():""},i.prototype.first=function(){return this.bounds_&&this.bounds_.head.node},i.prototype.last=function(){return this.bounds_&&this.bounds_.tail.node},i.prototype.asNumber=function(){return+this.asString()},i.prototype.asBoolean=function(){return 0!==this.length()},i.prototype.merge=function(e){for(var t=new i,n=this.bounds_&&this.bounds_.head,r=e.bounds_&&e.bounds_.head;n&&r;){if(n.node.isEqual(r.node))t.push(n.node),n=n.next,r=r.next;else 0<n.node.compareDocumentPosition(r.node)?(t.push(r.node),r=r.next):(t.push(n.node),n=n.next)}for(var o=n||r;o;)t.push(o.node),o=o.next;return t},i.prototype.toString=function(){var e,t,n=[];try{for(var r=_(this.iterator()),o=r.next();!o.done;o=r.next()){var i=o.value;n.push(""+i)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(t=r["return"])&&t.call(r)}finally{if(e)throw e.error}}return"NodeSet<"+n.join(", ")+">"},i}(function(){function e(e){this.length_=0,e&&e.forEach(function(e){this.push(e)},this)}return e.prototype.iterator=function(e){return this.bounds_?new Ae(this,e):new Ye},e.prototype.head=function(){return this.bounds_&&this.bounds_.head},e.prototype.tail=function(){return this.bounds_&&this.bounds_.tail},e.prototype.length=function(){return this.length_},e.prototype.empty=function(){return 0===this.length_},e.prototype.push=function(e){var t=new Ie(e);return this.bounds_?(t.previous=this.bounds_.tail,this.bounds_.tail.next=t,this.bounds_.tail=t):this.bounds_=new Be(t,t),this.length_++,this},e.prototype.unshift=function(e){var t=new Ie(e);return this.bounds_?(t.next=this.bounds_.head,this.bounds_.head.previous=t,this.bounds_.head=t):this.bounds_=new Be(t,t),this.length_++,this},e.prototype.filter=function(e){var t,n,r=this.iterator();try{for(var o=_(r),i=o.next();!i.done;i=o.next()){e(i.value)||r.remove()}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(t)throw t.error}}return this},e}()),je=3,Ve=7,Ce=8,Le=9;function Me(e,t,n){var r=new Ue;return t.getNode().getNodeType()!==Le&&(r=(r=r.unshift(t.getNode().getParent())).merge(Me(e,new De(t.getNode().getParent(),1,1),n))),r}function We(e,t,n){var r=new Ue([t.getNode()]);return Me(e,t,n).merge(r)}function $e(e,t,n){return new Ue(t.getNode().getAttributes())}function qe(e,t,n){return new Ue(t.getNode().getChildNodes())}function Fe(e,t,n){var r,o,i=new Ue,a=new Ue(t.getNode().getChildNodes());try{for(var s=_(a.iterator()),u=s.next();!u.done;u=s.next()){var l=u.value;i=(i=i.push(l)).merge(Fe(e,new De(l,1,1),n))}}catch(f){r={error:f}}finally{try{u&&!u.done&&(o=s["return"])&&o.call(s)}finally{if(r)throw r.error}}return i}function He(e,t,n){return new Ue([t.getNode()]).merge(Fe(e,t,n))}function Ge(e,t,n){return e.evaluate({type:q,steps:[{axis:b,test:{type:N,name:ie},predicates:[]},{axis:Q,test:{type:N,name:ie},predicates:[]},{axis:J,test:{type:N,name:ie},predicates:[]}]},t,n)}function ze(e,t,n){return new Ue(t.getNode().getFollowingSiblings())}function Xe(e,t,n){throw new Error("Namespace axis is not implemented")}function Je(e,t,n){var r=new Ue;return t.getNode().getNodeType()!==Le&&(r=r.push(t.getNode().getParent())),r}function Ke(e,t,n){return e.evaluate({type:q,steps:[{axis:b,test:{type:N,name:ie},predicates:[]},{axis:ne,test:{type:N,name:ie},predicates:[]},{axis:J,test:{type:N,name:ie},predicates:[]}]},t,n)}function Qe(e,t,n){return new Ue(t.getNode().getPrecedingSiblings())}function Ze(e,t,n){return new Ue([t.getNode()])}var et=function(){function e(e){this.value=e}return e.prototype.asString=function(){return""+this.value},e.prototype.asNumber=function(){return this.value},e.prototype.asBoolean=function(){return!!this.value},e}();function tt(n,t,e,r){var o,i,a=function w(e){switch(e){case E:return Me;case b:return We;case G:return $e;case z:return qe;case X:return Fe;case J:return He;case K:return Ge;case Q:return ze;case Z:return Xe;case ee:return Je;case te:return Ke;case ne:return Qe;case re:return Ze}}(t.axis)(n,e,r),s=t.test;if(s.type===m||s.type==x&&s.name){var u=t.test.name;a=a.filter(function(e){return"*"===u&&!!e.getName()||e.getName()===t.test.name})}if(s.type===N&&s.name!==ie||s.type===x){var l;if(s.type===N)switch(s.name){case oe:l=Ce;break;case ae:l=Ve;break;case se:l=je;break;default:throw new Error("Unknown node nodeType "+s.name)}else l=Ve;a=a.filter(function(e){return e.getNodeType()===l})}if(0<t.predicates.length){var f=t.axis===E||t.axis===b||t.axis===te||t.axis===ne,c=0,h=a.length(),p=a.iterator(f);try{for(var v=_(p),d=v.next();!d.done;d=v.next()){var g=d.value;c++,t.predicates.every(function(e){var t=n.evaluate(e,new De(g,c,h),r);return null!==t&&(t instanceof et?t.asNumber()===c:t.asBoolean())})||p.remove()}}catch(y){o={error:y}}finally{try{d&&!d.done&&(i=v["return"])&&i.call(v)}finally{if(o)throw o.error}}}return a}function nt(e,t,n,r){var o,i,a=new Ue([n.getNode()]),s=new Ue;if(t.steps)for(var u=0;u<t.steps.length;u++){try{for(var l=_(a.iterator()),f=l.next();!f.done;f=l.next()){var c=f.value,h=tt(e,t.steps[u],new De(c,1,1),r);s=s.merge(h)}}catch(p){o={error:p}}finally{try{f&&!f.done&&(i=l["return"])&&i.call(l)}finally{if(o)throw o.error}}a=s,s=new Ue}return a}var rt=function(){function e(e){this.value=e}return e.prototype.asString=function(){return""+this.value},e.prototype.asNumber=function(){return this.value?1:0},e.prototype.asBoolean=function(){return this.value},e}();var ot=function(){function e(e){this.value=e}return e.prototype.asString=function(){return this.value},e.prototype.asNumber=function(){return+this.value},e.prototype.asBoolean=function(){return 0!==this.value.length},e}();function it(e,t,n,r){var o,i,a,s,u,l;if(t instanceof Ue&&n instanceof Ue){try{for(var f=_(t.iterator()),c=f.next();!c.done;c=f.next()){var h=c.value;try{for(var p=_(n.iterator()),v=p.next();!v.done;v=p.next()){var d=v.value;if(r(h.asString(),d.asString()))return new rt(!0)}}catch(x){a={error:x}}finally{try{v&&!v.done&&(s=p["return"])&&s.call(p)}finally{if(a)throw a.error}}}}catch(E){o={error:E}}finally{try{c&&!c.done&&(i=f["return"])&&i.call(f)}finally{if(o)throw o.error}}return new rt(!1)}if(t instanceof Ue||n instanceof Ue){var g,w;if((w=t instanceof Ue?(g=t,n):(g=n,t))instanceof rt){if(r(g.asBoolean(),w.asBoolean()))return new rt(!0)}else try{for(var y=_(g.iterator()),m=y.next();!m.done;m=y.next()){var N=m.value;if(w instanceof et){if(r(N.asNumber(),w.asNumber()))return new rt(!0)}else{if(!(w instanceof ot))throw new Error("Unknown value type");if(r(N.asString(),w.asString()))return new rt(!0)}}}catch(b){u={error:b}}finally{try{m&&!m.done&&(l=y["return"])&&l.call(y)}finally{if(u)throw u.error}}return new rt(!1)}if(e!==P&&e!==Y)return new rt(r(t.asNumber(),n.asNumber()));if(t instanceof rt||n instanceof rt){if(r(t.asBoolean(),n.asBoolean()))return new rt(!0)}else if(t instanceof et||n instanceof et){if(r(t.asNumber(),n.asNumber()))return new rt(!0)}else{if(!(t instanceof ot||n instanceof ot))throw new Error("Unknown value types");if(r(t.asString(),n.asString()))return new rt(!0)}return new rt(!1)}function at(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(1!==t.length)throw new Error("Expected a single argument");return new rt(t[0].asBoolean())}function st(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(1!==t.length)throw new Error("Expected a single argument");var r=t[0];if(!(r instanceof et))throw new Error("Wrong type of argument");return new et(Math.ceil(r.asNumber()))}function ut(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(0===t.length)throw new Error("Expected some arguments");return new ot(t.map(function(e){return e.asString()}).join(""))}function lt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(2!==t.length)throw new Error("Expected two arguments");var r=t[0].asString(),o=t[1].asString();return new rt(-1!==r.indexOf(o))}function ft(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(1!==t.length)throw new Error("Expected a single argument");var r=t[0];if(!(r instanceof Ue))throw new Error("Wrong type of argument");return new et(r.length())}function ct(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new rt(!1)}function ht(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(1!==t.length)throw new Error("Expected a single argument");var r=t[0];if(!(r instanceof et))throw new Error("Wrong type of argument");return new et(Math.floor(r.asNumber()))}function pt(e){for(var t,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(1!==r.length)throw new Error("Expected a single argument");var i,a=r[0],s=[];if(a instanceof Ue)try{for(var u=_(a.iterator()),l=u.next();!l.done;l=u.next())i=l.value,s=s.concat(i.asString().split(/\s+/g))}catch(h){t={error:h}}finally{try{l&&!l.done&&(n=u["return"])&&n.call(u)}finally{if(t)throw t.error}}else a instanceof ot?s=a.asString().split(/\s+/g):s.push(a.asString());for(var f=new Ue,c=0;c<s.length;c++)(i=e.getNode().getOwnerDocument().getElementById(s[c]))&&(f=f.merge(new Ue([i])));return f}function vt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new et(e.getLast())}function dt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0];if(r||(r=new Ue([e.getNode()])),1<t.length)throw new Error("Expected at most one argument");if(!(r instanceof Ue))throw new Error("Wrong type of argument");var o=r.first();return new ot(o?o.getName():"")}function gt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0];if(r){if(1<t.length)throw new Error("Expected at most one argument");if(!(r instanceof Ue))throw new Error("Wrong type of argument");return r.empty()?new ot(""):new ot(r.first().getName())}return new ot(e.getNode().getName())}function wt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,o=t[0];if(o){if(1<t.length)throw new Error("Expected at most one argument");r=o.asString()}else r=e.getNode().asString();return new ot(r.trim().replace(/\s{2,}/g," "))}function yt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(1!==t.length)throw new Error("Expected a single argument");return new rt(!t[0].asBoolean())}function mt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(1!==t.length)throw new Error("Expected a single argument");return new et(t[0].asNumber())}function Nt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new et(e.getPosition())}function xt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(1!==t.length)throw new Error("Expected a single argument");var r=t[0];if(!(r instanceof et))throw new Error("Wrong type of argument");return new et(Math.round(r.asNumber()))}function Et(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(2!==t.length)throw new Error("Expected two arguments");var r=t[0].asString(),o=t[1].asString(),i=r.indexOf(o);return new rt(0===i)}function bt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0];if(r){if(1<t.length)throw new Error("Expected at most one argument");if(!(r instanceof ot))throw new Error("Wrong type of argument");return new et(r.asString().length)}return new et(e.getNode().asString().length)}function _t(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0];if(r||(r=new Ue([e.getNode()])),1<t.length)throw new Error("Expected at most one argument");return new ot(r.asString())}function Tt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(2!==t.length)throw new Error("Expected two arguments");var r=t[0].asString(),o=t[1].asString(),i=r.indexOf(o);return new ot(-1===i?"":r.substring(i+o.length))}function St(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(2!==t.length)throw new Error("Expected two arguments");var r=t[0].asString(),o=t[1].asString(),i=r.indexOf(o);return new ot(-1===i?"":r.substring(0,i))}function kt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(2!==t.length&&3!==t.length)throw new Error("Expected two or three arguments");var r=t[0].asString(),o=Math.round(t[1].asNumber()),i=t[2];if(isNaN(o)||o===Infinity||o===-Infinity)return new ot("");if(i){var a=Math.round(i.asNumber());return isNaN(a)||a===-Infinity?new ot(""):new ot(r.substring(o-1,o+a-1))}return new ot(r.substring(o-1))}function Ot(e){for(var t,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(1!==r.length)throw new Error("Expected a single argument");var i=r[0];if(!(i instanceof Ue))throw new Error("Wrong type of argument");var a=0;try{for(var s=_(i.iterator()),u=s.next();!u.done;u=s.next()){a+=u.value.asNumber()}}catch(l){t={error:l}}finally{try{u&&!u.done&&(n=s["return"])&&n.call(s)}finally{if(t)throw t.error}}return new et(a)}function Pt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(3!==t.length)throw new Error("Expected three arguments");if(!(t[0]instanceof ot&&t[1]instanceof ot&&t[2]instanceof ot))throw new Error("Expected string arguments");for(var r=t[0].asString(),o=t[1].asString(),i=t[2].asString(),a=0;a<o.length;a++)r=a<i.length?r.replace(new RegExp(o[a],"g"),i[a]):r.replace(new RegExp(o[a],"g"),"");return new ot(r)}function Rt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new rt(!0)}function Dt(t,e,n,r){var o=e.args.map(function(e){return t.evaluate(e,n,r)});return function i(e){switch(e){case f:return at;case c:return st;case h:return ut;case p:return lt;case v:return ft;case d:return ct;case g:return ht;case w:return pt;case y:return vt;case ue:return dt;case le:return gt;case fe:return wt;case ce:return yt;case M:return mt;case he:return Nt;case pe:return xt;case ve:return Et;case de:return bt;case ge:return _t;case we:return Tt;case ye:return St;case me:return kt;case Ne:return Ot;case xe:return Pt;case Ee:return Rt}}(e.name).apply(void 0,function a(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}([n],o))}var It=function(){return function n(e,t){this.code=e,this.message=t}}(),Bt=function(){function e(e,t){var n,r;if(this.invalidIteratorState=!1,this.ANY_TYPE=0,this.NUMBER_TYPE=1,this.STRING_TYPE=2,this.BOOLEAN_TYPE=3,this.UNORDERED_NODE_ITERATOR_TYPE=4,this.ORDERED_NODE_ITERATOR_TYPE=5,this.UNORDERED_NODE_SNAPSHOT_TYPE=6,this.ORDERED_NODE_SNAPSHOT_TYPE=7,this.ANY_UNORDERED_NODE_TYPE=8,this.FIRST_ORDERED_NODE_TYPE=9,this.value=t,0===e)if(t instanceof Ue)this.resultType=4;else if(t instanceof ot)this.resultType=2;else if(t instanceof et)this.resultType=1;else{if(!(t instanceof rt))throw new Error("Unexpected evaluation result");this.resultType=3}else this.resultType=e;if(2!==this.resultType&&1!==this.resultType&&3!==this.resultType&&!(t instanceof Ue))throw Error("Value could not be converted to the specified type");if(4===this.resultType||5===this.resultType||6===this.resultType||7===this.resultType){this.nodes=[];try{for(var o=_(this.value.iterator()),i=o.next();!i.done;i=o.next()){var a=i.value;this.nodes.push(a.getNativeNode())}}catch(f){n={error:f}}finally{try{i&&!i.done&&(r=o["return"])&&r.call(o)}finally{if(n)throw n.error}}}var s=this,u=!0;try{Object.defineProperty({},"x",{})}catch(c){u=!1}if(u)Object.defineProperty(this,"numberValue",{get:function(){if(1!==s.resultType)throw new It(52,"resultType is not NUMBER_TYPE");return s.value.asNumber()}}),Object.defineProperty(this,"stringValue",{get:function(){if(2!==s.resultType)throw new It(52,"resultType is not STRING_TYPE");return s.value.asString()}}),Object.defineProperty(this,"booleanValue",{get:function(){if(3!==s.resultType)throw new It(52,"resultType is not BOOLEAN_TYPE");return s.value.asBoolean()}}),Object.defineProperty(this,"singleNodeValue",{get:function(){if(9!==s.resultType&&8!==s.resultType)throw new It(52,"resultType is not a node set");var e=s.value.first();return e&&e.getNativeNode()}}),Object.defineProperty(this,"invalidIteratorState",{get:function(){throw new Error("invalidIteratorState is not implemented")}}),Object.defineProperty(this,"snapshotLength",{get:function(){if(7!==s.resultType&&6!==s.resultType)throw new It(52,"resultType is not a node set");return s.value.length()}});else{if(1===this.resultType&&(this.numberValue=this.value.asNumber()),2===this.resultType&&(this.stringValue=this.value.asString()),3===this.resultType&&(this.booleanValue=this.value.asBoolean()),9===this.resultType||8===this.resultType){var l=this.value.first();this.singleNodeValue=l&&l.getNativeNode()}7!==this.resultType&&6!==this.resultType||(this.snapshotLength=this.value.length())}}return e.prototype.iterateNext=function(){if(5!==this.resultType&&4!==this.resultType)throw new It(52,"iterateNext called with wrong result type");return this.index=this.index||0,this.index>=this.nodes.length?null:this.nodes[this.index++]},e.prototype.snapshotItem=function(e){if(7!==this.resultType&&6!==this.resultType)throw new It(52,"snapshotItem called with wrong result type");return this.nodes[e]||null},e}();Bt.ANY_TYPE=0,Bt.NUMBER_TYPE=1,Bt.STRING_TYPE=2,Bt.BOOLEAN_TYPE=3,Bt.UNORDERED_NODE_ITERATOR_TYPE=4,Bt.ORDERED_NODE_ITERATOR_TYPE=5,Bt.UNORDERED_NODE_SNAPSHOT_TYPE=6,Bt.ORDERED_NODE_SNAPSHOT_TYPE=7,Bt.ANY_UNORDERED_NODE_TYPE=8,Bt.FIRST_ORDERED_NODE_TYPE=9;var Yt=function(){function e(e,t){this.ast=new r(e).parse(),this.adapter=t}return e.prototype.evaluate=function(e,t){var n=this.adapter,r=function(e,t,n){switch(e.type){case T:return function o(e,t,n,r){return nt(e,{type:q,steps:t.steps},new De(n.getNode().getOwnerDocument(),1,1),r)}({evaluate:r},e,t,n);case S:return function a(e,t,n,r){var o=e.evaluate(t.lhs,n,r),i=e.evaluate(t.rhs,n,r);return new et(o.asNumber()+i.asNumber())}({evaluate:r},e,t,n);case k:return function i(e,t,n,r){if(!e.evaluate(t.lhs,n,r).asBoolean())return new rt(!1);var o=e.evaluate(t.rhs,n,r);return new rt(o.asBoolean())}({evaluate:r},e,t,n);case O:return function s(e,t,n,r){var o=e.evaluate(t.lhs,n,r),i=e.evaluate(t.rhs,n,r);return new et(o.asNumber()/i.asNumber())}({evaluate:r},e,t,n);case P:return function u(e,t,n,r){return it(t.type,e.evaluate(t.lhs,n,r),e.evaluate(t.rhs,n,r),function(e,t){return e===t})}({evaluate:r},e,t,n);case R:return function v(n,e,t,r){var o,i,a=n.evaluate(e.primary,t,r);if(!(a instanceof Ue))throw new Error("Predicates can only be used when primary expression yields a node-set");var s=0,u=a.length(),l=a.iterator();try{for(var f=_(l),c=f.next();!c.done;c=f.next()){var h=c.value;s++,e.predicates.every(function(e){var t=n.evaluate(e,new De(h,s,u),r);return null!==t&&(t instanceof et?t.asNumber()===s:t.asBoolean())})||l.remove()}}catch(p){o={error:p}}finally{try{c&&!c.done&&(i=f["return"])&&i.call(f)}finally{if(o)throw o.error}}return a}({evaluate:r},e,t,n);case D:return Dt({evaluate:r},e,t,n);case I:return function l(e,t,n,r){return it(t.type,e.evaluate(t.lhs,n,r),e.evaluate(t.rhs,n,r),function(e,t){return t<e})}({evaluate:r},e,t,n);case B:return function f(e,t,n,r){return it(t.type,e.evaluate(t.lhs,n,r),e.evaluate(t.rhs,n,r),function(e,t){return t<=e})}({evaluate:r},e,t,n);case Y:return function c(e,t,n,r){return it(t.type,e.evaluate(t.lhs,n,r),e.evaluate(t.rhs,n,r),function(e,t){return e!==t})}({evaluate:r},e,t,n);case A:return function h(e,t,n,r){return it(t.type,e.evaluate(t.lhs,n,r),e.evaluate(t.rhs,n,r),function(e,t){return e<t})}({evaluate:r},e,t,n);case U:return function p(e,t,n,r){return it(t.type,e.evaluate(t.lhs,n,r),e.evaluate(t.rhs,n,r),function(e,t){return e<=t})}({evaluate:r},e,t,n);case j:return function d(e,t,n,r){return new ot(t.string)}(0,e);case V:return function g(e,t,n,r){var o=e.evaluate(t.lhs,n,r),i=e.evaluate(t.rhs,n,r);return new et(o.asNumber()%i.asNumber())}({evaluate:r},e,t,n);case C:return function w(e,t,n,r){var o=e.evaluate(t.lhs,n,r),i=e.evaluate(t.rhs,n,r);return new et(o.asNumber()*i.asNumber())}({evaluate:r},e,t,n);case L:return function y(e,t,n,r){var o=e.evaluate(t.lhs,n,r);return new et(-o.asNumber())}({evaluate:r},e,t,n);case M:return function m(e,t,n,r){return new et(t.number)}(0,e);case W:return function N(e,t,n,r){if(e.evaluate(t.lhs,n,r).asBoolean())return new rt(!0);var o=e.evaluate(t.rhs,n,r);return new rt(o.asBoolean())}({evaluate:r},e,t,n);case $:return function x(e,t,n,r){var o,i,a=e.evaluate(t.filter,n,r);if(!(a instanceof Ue))throw new Error("Paths can only be used when filter expression yields a node-set");var s=[];try{for(var u=_(a.iterator()),l=u.next();!l.done;l=u.next()){var f=l.value;s.push(nt(e,{type:q,steps:t.steps},new De(f,1,1),r))}}catch(c){o={error:c}}finally{try{l&&!l.done&&(i=u["return"])&&i.call(u)}finally{if(o)throw o.error}}return s.reduce(function(e,t){return e.merge(t)})}({evaluate:r},e,t,n);case q:return nt({evaluate:r},e,t,n);case F:return function E(e,t,n,r){var o=e.evaluate(t.lhs,n,r),i=e.evaluate(t.rhs,n,r);return new et(o.asNumber()-i.asNumber())}({evaluate:r},e,t,n);case H:return function b(e,t,n,r){var o=e.evaluate(t.lhs,n,r);if(!(o instanceof Ue))throw new Error("Union operator can only be used with expression yielding node-set");var i=e.evaluate(t.rhs,n,r);if(!(i instanceof Ue))throw new Error("Union operator can only be used with expression yielding node-set");return o.merge(i)}({evaluate:r},e,t,n)}},o=r(this.ast,new De(new n(e),1,1),t);return new Bt(t,o)},e}();function At(){throw new Error("Namespaces are not implemented")}var Ut=2,jt=4;var Vt=new(function(){function e(e){this.adapter=e}return e.prototype.evaluate=function(e,t,n,r,o){return n&&At(),this.createExpression(e).evaluate(t,r)},e.prototype.createExpression=function(e,t){return t&&At(),new Yt(e,this.adapter)},e.prototype.createNSResolver=function(e){At()},e}())(function(){function r(e){if(!e)throw new Error("This should not happen!");return this.nativeNode=e,this}return r.prototype.getNativeNode=function(){return this.nativeNode},r.prototype.asString=function(){if("string"==typeof this.nativeNode.textContent)return this.nativeNode.textContent;for(var e="",t=this.getChildNodes(),n=0;n<t.length;n++)e+=t[n].asString();return e},r.prototype.asNumber=function(){return+this.asString()},r.prototype.getNodeType=function(){return this.nativeNode.nodeType},r.prototype.getChildNodes=function(){for(var e=[],t=0;t<this.nativeNode.childNodes.length;t++)e.push(new r(this.nativeNode.childNodes[t]));return e},r.prototype.getFollowingSiblings=function(){for(var e=this.nativeNode,t=[];e=e.nextSibling;)t.push(new r(e));return t},r.prototype.getPrecedingSiblings=function(){for(var e=this.nativeNode,t=[];e=e.previousSibling;)t.unshift(new r(e));return t},r.prototype.getName=function(){var e=this.nativeNode.tagName||this.nativeNode.name;return e?e.toLowerCase():""},r.prototype.getAttributes=function(){if(!this.nativeNode.attributes)return[];for(var e=[],t=0;t<this.nativeNode.attributes.length;t++)e.push(new r(this.nativeNode.attributes[t]));return e},r.prototype.getParent=function(){return new r(this.nativeNode.parentNode||this.nativeNode.ownerElement)},r.prototype.getOwnerDocument=function(){return this.nativeNode.ownerDocument?new r(this.nativeNode.ownerDocument):this},r.prototype.getElementById=function(e){if(function n(e){return e.nodeType===Le}(this.nativeNode)){var t=this.nativeNode.getElementById(e);return t?new r(t):null}return this.getOwnerDocument().getElementById(e)},r.prototype.isEqual=function(e){return this.getNativeNode()===e.getNativeNode()},r.prototype.compareDocumentPosition=function(e){var t=this;t.getNativeNode()instanceof Attr&&(t=t.getParent()),e.getNativeNode()instanceof Attr&&(e=e.getParent()),t.getNativeNode().compareDocumentPosition||(console.log(t.getNodeType(),2),console.log(t.getNativeNode()));var n=t.getNativeNode().compareDocumentPosition(e.getNativeNode());return n&Ut?1:n&jt?-1:0},r.prototype.toString=function(){var e="";return function t(e){return 1===e.nodeType}(this.nativeNode)&&(e=this.nativeNode.tagName?this.nativeNode.tagName.toLowerCase():this.nativeNode.nodeName+"("+this.nativeNode.nodeValue+")",this.nativeNode.className&&(e=e+"."+this.nativeNode.className.split(/\s+/g).join(".")),this.nativeNode.id&&(e=e+"#"+this.nativeNode.id)),"Node<"+e+">"},r}());var e=window.document;e.evaluate||(e.evaluate=function Ct(e,t,n,r){return Vt.evaluate(e,t,n,r)},e.createExpression=function Lt(e,t){return Vt.createExpression(e,t)},e.createNSResolver=function Mt(e){return Vt.createNSResolver(e)},window.XPathResult=Bt)}();